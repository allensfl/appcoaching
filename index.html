<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Mission Control - KI-Coaching App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1>ğŸ¯ Coach Mission Control</h1>
                <div class="session-info">
                    <span id="currentClientDisplay">Kein Klient ausgewÃ¤hlt</span>
                    <span id="sessionTimer">00:00</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <button class="tab-button active" data-tab="clients">ğŸ‘¥ Klienten</button>
            <button class="tab-button" data-tab="coaching">ğŸ¯ Coaching</button>
            <button class="tab-button" data-tab="collaboration">ğŸ¤ Kollaboration</button>
            <button class="tab-button" data-tab="templates">ğŸ“‹ Templates</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- KLIENTEN TAB -->
            <div id="clients" class="tab-content active">
                <div class="tab-header">
                    <h2>Klienten auswÃ¤hlen</h2>
                    <p>WÃ¤hlen Sie einen Klienten fÃ¼r Ihre Coaching-Session aus.</p>
                </div>
                
                <div id="clientsContainer" class="clients-grid">
                    <!-- Clients werden hier dynamisch geladen -->
                    <div class="client-card" onclick="selectClient('sarah')">
                        <div class="client-avatar">ğŸ‘©â€ğŸ’¼</div>
                        <div class="client-info">
                            <h3>Sarah MÃ¼ller</h3>
                            <p>Projektmanagerin</p>
                            <div class="client-status status-aktiv">aktiv</div>
                        </div>
                    </div>
                    
                    <div class="client-card" onclick="selectClient('marcus')">
                        <div class="client-avatar">ğŸ‘¨â€ğŸ’¼</div>
                        <div class="client-info">
                            <h3>Marcus Schmidt</h3>
                            <p>Vertriebsleiter</p>
                            <div class="client-status status-aktiv">aktiv</div>
                        </div>
                    </div>
                    
                    <div class="client-card" onclick="selectClient('lisa')">
                        <div class="client-avatar">ğŸ‘©â€ğŸ’»</div>
                        <div class="client-info">
                            <h3>Lisa Weber</h3>
                            <p>Marketing-Direktorin</p>
                            <div class="client-status status-wartend">wartend</div>
                        </div>
                    </div>
                    
                    <div class="client-card" onclick="selectClient('werner')">
                        <div class="client-avatar">ğŸ‘¨â€ğŸ”§</div>
                        <div class="client-info">
                            <h3>Werner Hoffmann</h3>
                            <p>IT-Leiter</p>
                            <div class="client-status status-aktiv">aktiv</div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="startSessionBtn" class="btn primary" onclick="startSession()" disabled>
                        ğŸ¯ Session starten
                    </button>
                </div>
            </div>

            <!-- COACHING TAB -->
            <div id="coaching" class="tab-content">
                <div class="coaching-workspace">
                    
                    <!-- Coach Control Panel -->
                    <div class="coach-control-panel">
                        <div class="panel-header">
                            <h3>ğŸ¯ Coach Control Panel</h3>
                            <div class="current-client-info">
                                <span id="coachingClientDisplay">Kein Klient</span>
                            </div>
                        </div>

                        <!-- 12-Phasen Navigation -->
                        <div class="phases-section">
                            <h4>12-Schritte Navigation</h4>
                            <div id="phasesContainer" class="phases-grid">
                                <div class="phase-card active" onclick="setPhase(1)" data-phase="1">
                                    <div class="phase-number blue">1</div>
                                    <div class="phase-info">
                                        <h5>Phase 1: Erstanliegen</h5>
                                        <p>GT1-GT3</p>
                                    </div>
                                </div>
                                <div class="phase-card" onclick="setPhase(2)" data-phase="2">
                                    <div class="phase-number orange">2</div>
                                    <div class="phase-info">
                                        <h5>Phase 2: Analyse</h5>
                                        <p>GT4-GT6</p>
                                    </div>
                                </div>
                                <div class="phase-card" onclick="setPhase(3)" data-phase="3">
                                    <div class="phase-number green">3</div>
                                    <div class="phase-info">
                                        <h5>Phase 3: LÃ¶sungen</h5>
                                        <p>GT7-GT9</p>
                                    </div>
                                </div>
                                <div class="phase-card" onclick="setPhase(4)" data-phase="4">
                                    <div class="phase-number purple">4</div>
                                    <div class="phase-info">
                                        <h5>Phase 4: Umsetzung</h5>
                                        <p>GT10-GT12</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Prompt Repository -->
                        <div class="prompts-section">
                            <div class="prompts-header">
                                <h4>Prompt Repository</h4>
                                <input type="text" id="promptSearch" placeholder="ğŸ” Prompts durchsuchen..." class="search-input">
                            </div>
                            
                            <div class="category-filters">
                                <button class="category-filter active" data-category="all">Alle</button>
                                <button class="category-filter" data-category="GT">GT</button>
                                <button class="category-filter" data-category="SF">SF</button>
                                <button class="category-filter" data-category="DIAG">DIAG</button>
                                <button class="category-filter" data-category="LÃ–S">LÃ–S</button>
                                <button class="category-filter" data-category="META">META</button>
                            </div>

                            <div id="promptsContainer" class="prompts-grid">
                                <!-- Prompts werden hier dynamisch geladen -->
                            </div>
                        </div>
                    </div>

                    <!-- Prompt Editor -->
                    <div class="prompt-editor">
                        <div class="editor-header">
                            <h3>âœï¸ Prompt Editor</h3>
                            <span id="phaseStatus">Phase 1: Erstanliegen</span>
                        </div>

                        <div class="editor-content">
                            <textarea id="promptTextarea" placeholder="WÃ¤hlen Sie einen Prompt aus dem Repository oder schreiben Sie einen eigenen..."></textarea>
                            
                            <div class="editor-actions">
                                <button onclick="copyPromptText()" class="btn secondary">ğŸ“‹ Kopieren</button>
                                <button onclick="clearEditor()" class="btn secondary">ğŸ—‘ï¸ LÃ¶schen</button>
                                <button onclick="sendToCollaboration()" class="btn primary">ğŸ“¤ An Kollaboration senden</button>
                            </div>
                        </div>

                        <div class="editor-info">
                            <p>ğŸ’¡ <strong>Tipp:</strong> Verwenden Sie Ctrl+1-9 fÃ¼r GT1-GT9 Shortcuts</p>
                            <p>ğŸ­ FÃ¼r Spannungsfelder: <a href="https://www.delightex.com" target="_blank">DelightEx Avatar Tool</a></p>
                        </div>
                    </div>

                    <!-- Coach-KI Assistant -->
                    <div class="coach-ai-assistant">
                        <div class="assistant-header">
                            <h3>ğŸ¤– Coach-KI Assistant</h3>
                            <p>Private Beratung fÃ¼r Sie als Coach</p>
                        </div>

                        <div class="assistant-content">
                            <div id="coachKIOutput" class="ai-output">
                                <div class="welcome-message">
                                    <p>ğŸ‘‹ Hallo! Ich bin Ihr KI-Assistant fÃ¼r den Coaching-Prozess.</p>
                                    <p>Fragen Sie mich nach Prozess-Beratung, Methoden-Tipps oder Klient-Analysen.</p>
                                </div>
                            </div>

                            <div class="assistant-input">
                                <textarea id="coachKIInput" placeholder="Fragen Sie mich alles zum Coaching-Prozess..."></textarea>
                                <div class="quick-actions">
                                    <button class="quick-action" data-action="Prozess-Beratung">ğŸ“Š Prozess</button>
                                    <button class="quick-action" data-action="Methoden-Tipp">ğŸ› ï¸ Methoden</button>
                                    <button class="quick-action" data-action="Spannungsfeld">âš–ï¸ Spannungsfeld</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KOLLABORATION TAB -->
            <div id="collaboration" class="tab-content">
                <div class="collaboration-header">
                    <h2>ğŸ¤ Kollaboration</h2>
                    <div class="collaboration-info">
                        <span class="info-tag coach">ğŸ‘¨â€ğŸ’¼ Coach sichtbar</span>
                        <span class="info-tag coachee">ğŸ‘¤ Coachee sichtbar</span>
                    </div>
                </div>

                <div class="collaboration-content">
                    <div id="collaborationThread" class="message-thread">
                        <div class="initial-message">
                            <p>â³ Warten auf Coaching-Prompt...</p>
                            <p>Sobald Sie einen Prompt aus dem Coaching-Bereich senden, erscheint er hier fÃ¼r den Coachee.</p>
                        </div>
                    </div>

                    <div class="collaboration-controls">
                        <button onclick="clearCollaboration()" class="btn secondary">ğŸ—‘ï¸ Thread lÃ¶schen</button>
                        <button onclick="exportSession()" class="btn secondary">ğŸ“¤ Session exportieren</button>
                        <button onclick="openAvatarTool()" class="btn primary">ğŸ­ Avatar Tool (DelightEx)</button>
                    </div>
                </div>
            </div>

            <!-- TEMPLATES TAB -->
            <div id="templates" class="tab-content">
                <div class="tab-header">
                    <h2>ğŸ“‹ Template Repository</h2>
                    <p>Vorgefertigte Coaching-Templates und Methoden</p>
                </div>

                <div class="templates-grid">
                    <div class="template-card">
                        <h3>ğŸ”¥ KonfliktklÃ¤rung</h3>
                        <p>Systematische Bearbeitung von Konfliktsituationen</p>
                        <div class="template-prompts">GT1, GT3, GT4, GT5, GT7, GT9, GT10, GT11</div>
                        <button onclick="loadTemplate('konflikt')" class="btn primary">Template laden</button>
                    </div>

                    <div class="template-card">
                        <h3>ğŸ¯ Entscheidungsfindung</h3>
                        <p>Strukturierte Entscheidungsprozesse</p>
                        <div class="template-prompts">GT1, GT2, GT7, GT8, GT9, SF1, GT10, GT11</div>
                        <button onclick="loadTemplate('entscheidung')" class="btn primary">Template laden</button>
                    </div>

                    <div class="template-card">
                        <h3>âš–ï¸ Spannungsfeld-Arbeit</h3>
                        <p>Arbeit mit PolaritÃ¤ten und Dilemmata</p>
                        <div class="template-prompts">GT4, SF1, DIAG1, LÃ–S1, META1</div>
                        <button onclick="loadTemplate('spannungsfeld')" class="btn primary">Template laden</button>
                    </div>

                    <div class="template-card">
                        <h3>ğŸš€ Ressourcen-Aktivierung</h3>
                        <p>StÃ¤rken und Potentiale mobilisieren</p>
                        <div class="template-prompts">GT8, SF2, SF3, LÃ–S2, META2</div>
                        <button onclick="loadTemplate('ressourcen')" class="btn primary">Template laden</button>
                    </div>
                </div>
            </div>

        </main>

        <!-- Debug Panel (nur in Development) -->
        <div id="debugPanel" class="debug-panel" style="display: none;">
            <h4>ğŸ”§ Debug Panel</h4>
            <div class="debug-info">
                <p>Current Client: <span id="debugClient">None</span></p>
                <p>Current Phase: <span id="debugPhase">1</span></p>
                <p>Session Active: <span id="debugSession">No</span></p>
                <p>Prompts Loaded: <span id="debugPrompts">0</span></p>
            </div>
            <div class="debug-actions">
                <button onclick="validateData()">ğŸ” Validate Data</button>
                <button onclick="debugCollaborationSync()">ğŸ¤ Debug Collaboration</button>
                <button onclick="console.clear()">ğŸ—‘ï¸ Clear Console</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>